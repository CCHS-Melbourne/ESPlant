EESchema Schematic File Version 2
LIBS:ESPlant-rescue
LIBS:freetronics_schematic
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:ESPlant
LIBS:ESP8266
LIBS:ESPlant-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L +3.3V #PWR01
U 1 1 56375ED2
P 9250 5800
F 0 "#PWR01" H 9250 5650 50  0001 C CNN
F 1 "+3.3V" H 9250 5940 50  0000 C CNN
F 2 "" H 9250 5800 60  0000 C CNN
F 3 "" H 9250 5800 60  0000 C CNN
	1    9250 5800
	1    0    0    -1  
$EndComp
$Comp
L R R109
U 1 1 56375F00
P 9250 6150
F 0 "R109" V 9330 6150 50  0000 C CNN
F 1 "10K" V 9250 6150 50  0000 C CNN
F 2 "" V 9180 6150 30  0000 C CNN
F 3 "" H 9250 6150 30  0000 C CNN
	1    9250 6150
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR02
U 1 1 56375FE4
P 10550 2250
F 0 "#PWR02" H 10550 2000 50  0001 C CNN
F 1 "GND" H 10550 2100 50  0000 C CNN
F 2 "" H 10550 2250 60  0000 C CNN
F 3 "" H 10550 2250 60  0000 C CNN
	1    10550 2250
	1    0    0    -1  
$EndComp
$Comp
L C C105
U 1 1 56375FFD
P 10250 2100
F 0 "C105" H 10275 2200 50  0000 L CNN
F 1 "220uF 16V" H 10000 2000 50  0000 L CNN
F 2 "" H 10288 1950 30  0000 C CNN
F 3 "" H 10250 2100 60  0000 C CNN
	1    10250 2100
	1    0    0    -1  
$EndComp
$Comp
L C C106
U 1 1 563760A3
P 10550 2100
F 0 "C106" H 10575 2200 50  0000 L CNN
F 1 "100nF 6.3V" H 10575 2000 50  0000 L CNN
F 2 "" H 10588 1950 30  0000 C CNN
F 3 "" H 10550 2100 60  0000 C CNN
	1    10550 2100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR03
U 1 1 56376117
P 10250 1950
F 0 "#PWR03" H 10250 1800 50  0001 C CNN
F 1 "+3.3V" H 10250 2090 50  0000 C CNN
F 2 "" H 10250 1950 60  0000 C CNN
F 3 "" H 10250 1950 60  0000 C CNN
	1    10250 1950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR04
U 1 1 5637689F
P 7000 2350
F 0 "#PWR04" H 7000 2200 50  0001 C CNN
F 1 "+3.3V" H 7000 2500 50  0000 C CNN
F 2 "" H 7000 2350 60  0000 C CNN
F 3 "" H 7000 2350 60  0000 C CNN
	1    7000 2350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 5637692A
P 9750 2500
F 0 "#PWR05" H 9750 2250 50  0001 C CNN
F 1 "GND" V 9750 2300 50  0000 C CNN
F 2 "" H 9750 2500 60  0000 C CNN
F 3 "" H 9750 2500 60  0000 C CNN
	1    9750 2500
	1    0    0    -1  
$EndComp
$Comp
L USB_5PIN_SHELL P104
U 1 1 56377743
P 1100 1000
F 0 "P104" H 1025 1250 60  0000 C CNN
F 1 "USB_5PIN_SHELL" H 950 650 60  0001 L CNN
F 2 "FT:USB-MICRO_TH_4PEGS" H 950 600 31  0001 L CNN
F 3 "" H 1100 1000 60  0000 C CNN
	1    1100 1000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 56377AB6
P 1450 1600
F 0 "#PWR06" H 1450 1350 50  0001 C CNN
F 1 "GND" H 1450 1450 50  0000 C CNN
F 2 "" H 1450 1600 60  0000 C CNN
F 3 "" H 1450 1600 60  0000 C CNN
	1    1450 1600
	1    0    0    -1  
$EndComp
$Comp
L LED D101
U 1 1 56377FAE
P 10750 5200
F 0 "D101" H 10750 5300 50  0000 C CNN
F 1 "D13_LED" H 10750 5100 50  0000 C CNN
F 2 "" H 10750 5200 60  0000 C CNN
F 3 "" H 10750 5200 60  0000 C CNN
	1    10750 5200
	0    1    1    0   
$EndComp
$Comp
L R R112
U 1 1 563781EC
P 10750 4600
F 0 "R112" V 10830 4600 50  0000 C CNN
F 1 "1K" V 10750 4600 50  0000 C CNN
F 2 "" V 10680 4600 30  0000 C CNN
F 3 "" H 10750 4600 30  0000 C CNN
	1    10750 4600
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR07
U 1 1 56378615
P 10750 5500
F 0 "#PWR07" H 10750 5250 50  0001 C CNN
F 1 "GND" V 10750 5300 50  0000 C CNN
F 2 "" H 10750 5500 60  0000 C CNN
F 3 "" H 10750 5500 60  0000 C CNN
	1    10750 5500
	1    0    0    -1  
$EndComp
NoConn ~ 1300 1150
$Sheet
S 2750 750  700  950 
U 563C492E
F0 "Power" 60
F1 "Power.sch" 60
F2 "USB_IN" I L 2750 850 60 
F3 "SOLAR_IN" I L 2750 1250 60 
F4 "VOUT" I R 3450 1100 60 
F5 "VBAT" I L 2750 1550 79 
$EndSheet
$Comp
L ESP-12E U102
U 1 1 5641CF6D
P 8500 2000
F 0 "U102" H 8500 1900 50  0000 C CNN
F 1 "ESP-12E" H 8500 2100 50  0000 C CNN
F 2 "" H 8500 2000 50  0001 C CNN
F 3 "" H 8500 2000 50  0001 C CNN
	1    8500 2000
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02 P103
U 1 1 564226D3
P 900 2400
F 0 "P103" H 900 2550 50  0000 C CNN
F 1 "SOLAR" V 1000 2400 50  0000 C CNN
F 2 "" H 900 2400 60  0000 C CNN
F 3 "" H 900 2400 60  0000 C CNN
	1    900  2400
	-1   0    0    -1  
$EndComp
$Comp
L R R110
U 1 1 5649D02F
P 9850 6150
F 0 "R110" V 9930 6150 50  0000 C CNN
F 1 "10K" V 9850 6150 50  0000 C CNN
F 2 "" V 9780 6150 30  0000 C CNN
F 3 "" H 9850 6150 30  0000 C CNN
	1    9850 6150
	-1   0    0    1   
$EndComp
$Comp
L R R108
U 1 1 564A287B
P 8900 6000
F 0 "R108" V 8980 6000 50  0000 C CNN
F 1 "10K" V 8900 6000 50  0000 C CNN
F 2 "" V 8830 6000 30  0000 C CNN
F 3 "" H 8900 6000 30  0000 C CNN
	1    8900 6000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 564A2882
P 8900 6250
F 0 "#PWR08" H 8900 6000 50  0001 C CNN
F 1 "GND" H 8900 6100 50  0000 C CNN
F 2 "" H 8900 6250 60  0000 C CNN
F 3 "" H 8900 6250 60  0000 C CNN
	1    8900 6250
	1    0    0    -1  
$EndComp
Text Label 9550 1900 0    60   ~ 0
I2C_SDA
Text Label 9550 2000 0    60   ~ 0
I2C_SCL
Text Notes 650  650  0    79   ~ 0
USB Charging/Serial
Text Notes 700  2100 0    79   ~ 0
Solar Panel VIN (7VDC Max)
$Comp
L GND #PWR09
U 1 1 564B24B3
P 1450 2650
F 0 "#PWR09" H 1450 2400 50  0001 C CNN
F 1 "GND" H 1450 2500 50  0000 C CNN
F 2 "" H 1450 2650 60  0000 C CNN
F 3 "" H 1450 2650 60  0000 C CNN
	1    1450 2650
	1    0    0    -1  
$EndComp
$Comp
L LD3985M-RESCUE-ESPlant REG101
U 1 1 564B2BD1
P 4300 1150
F 0 "REG101" H 4550 800 60  0000 C CNN
F 1 "SPX3819M5-3.3" H 4300 1350 60  0000 C CNN
F 2 "SOT-23-5" H 4200 900 60  0000 C CNN
F 3 "" H 4300 1150 60  0000 C CNN
	1    4300 1150
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR010
U 1 1 564B2FF9
P 5250 900
F 0 "#PWR010" H 5250 750 50  0001 C CNN
F 1 "+3.3V" H 5250 1040 50  0000 C CNN
F 2 "" H 5250 900 60  0000 C CNN
F 3 "" H 5250 900 60  0000 C CNN
	1    5250 900 
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR011
U 1 1 564B3125
P 4300 1700
F 0 "#PWR011" H 4300 1450 50  0001 C CNN
F 1 "GND" H 4300 1550 50  0000 C CNN
F 2 "" H 4300 1700 60  0000 C CNN
F 3 "" H 4300 1700 60  0000 C CNN
	1    4300 1700
	1    0    0    -1  
$EndComp
$Comp
L Battery BT101
U 1 1 564B5CD5
P 850 3450
F 0 "BT101" H 950 3500 50  0000 L CNN
F 1 "Battery" H 950 3400 50  0000 L CNN
F 2 "" V 850 3490 60  0000 C CNN
F 3 "" V 850 3490 60  0000 C CNN
	1    850  3450
	1    0    0    -1  
$EndComp
Text Notes 750  3050 0    79   ~ 0
18340 Cell Holder (3.7V)\n
$Comp
L GND #PWR012
U 1 1 564B5F41
P 850 3850
F 0 "#PWR012" H 850 3600 50  0001 C CNN
F 1 "GND" H 850 3700 50  0000 C CNN
F 2 "" H 850 3850 60  0000 C CNN
F 3 "" H 850 3850 60  0000 C CNN
	1    850  3850
	1    0    0    -1  
$EndComp
$Comp
L MOSFET_P Q101
U 1 1 564B6DAD
P 1500 3300
F 0 "Q101" H 1410 3470 60  0000 R CNN
F 1 "FDN340P" H 1560 3050 60  0000 R CNN
F 2 "" H 1500 3300 60  0000 C CNN
F 3 "" H 1500 3300 60  0000 C CNN
	1    1500 3300
	0    -1   -1   0   
$EndComp
Text Label 900  3200 0    59   ~ 0
BAT+
Text Label 1350 950  0    59   ~ 0
USB_D-
Text Label 1350 1050 0    59   ~ 0
USB_D+
Text Label 6000 4300 0    59   ~ 0
USB_D-
Text Label 6000 4400 0    59   ~ 0
USB_D+
Connection ~ 10550 2250
Connection ~ 10250 1950
Wire Wire Line
	1650 1050 1300 1050
Wire Wire Line
	9400 1700 9750 1700
Wire Wire Line
	9400 1900 9750 1900
Wire Wire Line
	9400 2100 9750 2100
Wire Wire Line
	9400 2300 9750 2300
Wire Wire Line
	9250 6400 9550 6400
Wire Wire Line
	9850 6400 10250 6400
Wire Wire Line
	9250 5800 9250 5900
Wire Wire Line
	9250 5900 10450 5900
Connection ~ 9250 5900
Wire Wire Line
	10250 1950 10550 1950
Wire Wire Line
	10250 2250 10550 2250
Wire Wire Line
	6750 1700 7600 1700
Wire Wire Line
	7200 1900 7600 1900
Wire Wire Line
	7200 2100 7600 2100
Wire Wire Line
	7600 2300 7200 2300
Wire Wire Line
	1450 1250 1450 1600
Wire Wire Line
	1450 1250 1300 1250
Wire Wire Line
	1450 1550 800  1550
Wire Wire Line
	800  1550 800  1500
Connection ~ 1450 1550
Wire Wire Line
	9400 1800 9750 1800
Wire Wire Line
	9400 2000 9750 2000
Wire Wire Line
	2450 2350 2450 1250
Wire Wire Line
	1100 2350 2450 2350
Wire Wire Line
	1100 2450 1450 2450
Wire Wire Line
	1450 2450 1450 2650
Wire Wire Line
	3450 1100 3800 1100
Wire Wire Line
	3800 1200 3650 1200
Wire Wire Line
	3650 1200 3650 1100
Connection ~ 3650 1100
Wire Wire Line
	4800 1100 5250 1100
Wire Wire Line
	5250 1100 5250 900 
Wire Wire Line
	4300 1550 4300 1700
Wire Wire Line
	2450 1250 2750 1250
Wire Wire Line
	850  3600 850  3850
Wire Wire Line
	850  3650 1500 3650
Wire Wire Line
	2550 1550 2550 3150
Wire Wire Line
	2550 1550 2750 1550
Wire Wire Line
	850  3300 850  3200
Wire Wire Line
	850  3200 1300 3200
Wire Wire Line
	1500 3650 1500 3500
Connection ~ 850  3650
Wire Wire Line
	1700 3200 1700 3150
Wire Wire Line
	1700 3150 2550 3150
Wire Wire Line
	1300 950  1650 950 
$Comp
L C C101
U 1 1 564BAF1F
P 5000 1450
F 0 "C101" H 5025 1550 50  0000 L CNN
F 1 "100nF" H 5025 1350 50  0000 L CNN
F 2 "" H 5038 1300 30  0000 C CNN
F 3 "" H 5000 1450 60  0000 C CNN
	1    5000 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 1300 5000 1200
Wire Wire Line
	5000 1200 4800 1200
Wire Wire Line
	5000 1600 5000 1650
Wire Wire Line
	5000 1650 4300 1650
Connection ~ 4300 1650
Text Label 9250 6400 0    60   ~ 0
ESP_~RESET
Text Label 9950 6400 0    59   ~ 0
GPIO0
Text Label 3050 3800 2    60   ~ 0
STM_~RESET
$Comp
L GND #PWR013
U 1 1 564C3A22
P 9400 5050
F 0 "#PWR013" H 9400 4800 50  0001 C CNN
F 1 "GND" H 9400 4900 50  0000 C CNN
F 2 "" H 9400 5050 60  0000 C CNN
F 3 "" H 9400 5050 60  0000 C CNN
	1    9400 5050
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW102
U 1 1 564C3A28
P 9400 4600
F 0 "SW102" H 9550 4710 50  0000 C CNN
F 1 "PRGM" H 9400 4520 50  0000 C CNN
F 2 "" H 9400 4600 60  0000 C CNN
F 3 "" H 9400 4600 60  0000 C CNN
	1    9400 4600
	0    -1   -1   0   
$EndComp
$Comp
L SW_PUSH SW101
U 1 1 564C3A34
P 8800 4600
F 0 "SW101" H 8950 4710 50  0000 C CNN
F 1 "RESET" H 8800 4520 50  0000 C CNN
F 2 "" H 8800 4600 60  0000 C CNN
F 3 "" H 8800 4600 60  0000 C CNN
	1    8800 4600
	0    -1   -1   0   
$EndComp
Wire Wire Line
	9400 5050 9400 4900
Text Label 8850 4250 0    60   ~ 0
ESP_~RESET
Text Label 9400 4250 0    59   ~ 0
GPIO0
Wire Wire Line
	9400 4300 9400 4250
Wire Wire Line
	9400 4250 9700 4250
Wire Wire Line
	8800 4300 8800 4250
Wire Wire Line
	8800 4250 9150 4250
Text Label 3050 4650 2    59   ~ 0
STM_BOOT
Wire Wire Line
	10750 4350 10750 4000
Text Label 10750 4300 1    60   ~ 0
GPIO13
Text Label 7550 1700 2    60   ~ 0
ESP_~RESET
Wire Wire Line
	8800 4900 8800 5050
$Comp
L GND #PWR014
U 1 1 564C33B9
P 8800 5050
F 0 "#PWR014" H 8800 4800 50  0001 C CNN
F 1 "GND" H 8800 4900 50  0000 C CNN
F 2 "" H 8800 5050 60  0000 C CNN
F 3 "" H 8800 5050 60  0000 C CNN
	1    8800 5050
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW103
U 1 1 564C497A
P 10000 4600
F 0 "SW103" H 10150 4710 50  0000 C CNN
F 1 "RESET" H 10000 4520 50  0000 C CNN
F 2 "" H 10000 4600 60  0000 C CNN
F 3 "" H 10000 4600 60  0000 C CNN
	1    10000 4600
	0    -1   -1   0   
$EndComp
Text Label 10050 4250 0    60   ~ 0
STM_~RESET
Wire Wire Line
	10000 4300 10000 4250
Wire Wire Line
	10000 4250 10350 4250
Wire Wire Line
	10000 4900 10000 5050
$Comp
L GND #PWR015
U 1 1 564C4984
P 10000 5050
F 0 "#PWR015" H 10000 4800 50  0001 C CNN
F 1 "GND" H 10000 4900 50  0000 C CNN
F 2 "" H 10000 5050 60  0000 C CNN
F 3 "" H 10000 5050 60  0000 C CNN
	1    10000 5050
	1    0    0    -1  
$EndComp
Text Label 3550 1100 0    60   ~ 0
VOUT
Text Label 6700 4100 1    60   ~ 0
VOUT
$Comp
L R R106
U 1 1 564C5CAD
P 6700 4400
F 0 "R106" V 6780 4400 50  0000 C CNN
F 1 "56K 1%" V 6700 4400 39  0000 C CNN
F 2 "" H 6700 4400 60  0000 C CNN
F 3 "" H 6700 4400 60  0000 C CNN
	1    6700 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6700 4150 6700 3950
Wire Wire Line
	6700 4650 6700 4900
Text Notes 5750 5100 0    60   ~ 0
Input voltage\nmonitor via divider\n0-7V -> 0-3.2V,\n
Text Label 6000 3700 0    60   ~ 0
STM_TXD
Text Label 6000 3800 0    60   ~ 0
STM_RXD
Text Label 9550 1800 0    60   ~ 0
STM_TXD
Text Label 9550 1700 0    60   ~ 0
STM_RXD
Text Notes 9150 5500 0    60   ~ 0
ESP Pin Strapping
$Sheet
S 5350 6600 650  650 
U 564CC751
F0 "I2C Sensors" 60
F1 "ESPlant-Sensors.sch" 60
F2 "I2C_SDA" I L 5350 6800 60 
F3 "I2C_SCL" I L 5350 6950 60 
F4 "ADXL_INT" I R 6000 7100 60 
$EndSheet
Text Label 8900 5700 2    60   ~ 0
GPIO15
Wire Wire Line
	8900 5750 8900 5700
Wire Wire Line
	8900 5700 8650 5700
$Comp
L CONN_01X08 P101
U 1 1 564D24FE
P 850 5300
F 0 "P101" H 850 5750 50  0000 C CNN
F 1 "CONN_01X08" V 950 5300 50  0000 C CNN
F 2 "" H 850 5300 60  0000 C CNN
F 3 "" H 850 5300 60  0000 C CNN
	1    850  5300
	-1   0    0    -1  
$EndComp
$Comp
L CONN_01X08 P102
U 1 1 564D2624
P 850 6400
F 0 "P102" H 850 6850 50  0000 C CNN
F 1 "CONN_01X08" V 950 6400 50  0000 C CNN
F 2 "" H 850 6400 60  0000 C CNN
F 3 "" H 850 6400 60  0000 C CNN
	1    850  6400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1050 4950 1550 4950
$Comp
L +3.3V #PWR016
U 1 1 564D31D0
P 1550 4900
F 0 "#PWR016" H 1550 4750 50  0001 C CNN
F 1 "+3.3V" H 1550 5040 50  0000 C CNN
F 2 "" H 1550 4900 60  0000 C CNN
F 3 "" H 1550 4900 60  0000 C CNN
	1    1550 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 5050 1550 5050
$Comp
L GND #PWR017
U 1 1 564D333E
P 1550 5050
F 0 "#PWR017" H 1550 4800 50  0001 C CNN
F 1 "GND" H 1550 4900 50  0000 C CNN
F 2 "" H 1550 5050 60  0000 C CNN
F 3 "" H 1550 5050 60  0000 C CNN
	1    1550 5050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 4950 1550 4900
Wire Wire Line
	1050 5150 1350 5150
Text Label 1100 5150 0    60   ~ 0
ADC0
Text Label 1100 5250 0    60   ~ 0
ADC1
Text Label 1100 5350 0    60   ~ 0
ADC2
Text Label 1100 5450 0    60   ~ 0
ADC3
Wire Wire Line
	1050 5250 1350 5250
Wire Wire Line
	1050 5350 1350 5350
Wire Wire Line
	1050 5450 1350 5450
Wire Wire Line
	1050 5550 1350 5550
Wire Wire Line
	1050 5650 1350 5650
Wire Wire Line
	1050 6150 1800 6150
Wire Wire Line
	1050 6250 1350 6250
Wire Wire Line
	1050 6350 1350 6350
$Comp
L +3.3V #PWR018
U 1 1 564D5CDB
P 1800 6000
F 0 "#PWR018" H 1800 5850 50  0001 C CNN
F 1 "+3.3V" H 1800 6140 50  0000 C CNN
F 2 "" H 1800 6000 60  0000 C CNN
F 3 "" H 1800 6000 60  0000 C CNN
	1    1800 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 6450 1350 6450
Wire Wire Line
	1050 6550 1350 6550
Wire Wire Line
	1050 6650 1350 6650
Wire Wire Line
	1050 6750 1350 6750
Text Notes 3550 2550 0    79   ~ 0
STM32 USB/Serial & ADC Combo
Text Notes 7500 1300 0    79   ~ 0
ESP8266 WiFi Microcontroller
Text Notes 9150 3750 0    79   ~ 0
Buttons & LEDs
Text Notes 700  4550 0    79   ~ 0
Screw Terminals\nfor External Connections
Text Notes 2350 6100 0    79   ~ 0
Soil Moisture Sensors\n
$Comp
L R R102
U 1 1 564D9EB2
P 2750 6850
F 0 "R102" V 2830 6850 50  0000 C CNN
F 1 "100K" V 2750 6850 50  0000 C CNN
F 2 "" H 2750 6850 60  0000 C CNN
F 3 "" H 2750 6850 60  0000 C CNN
	1    2750 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 6500 2750 6600
Text Label 2250 6500 0    60   ~ 0
SOIL_1
Text Label 6000 4100 0    60   ~ 0
SOIL_1
Text Label 1050 6250 0    60   ~ 0
GPIO14_SOIL
Text Label 1050 6350 0    60   ~ 0
SOIL_1
Text Label 1050 6550 0    60   ~ 0
GPIO15
Text Label 1050 6650 0    60   ~ 0
I2C_SDA
Text Label 1050 6750 0    60   ~ 0
I2C_SCL
Wire Wire Line
	2750 7100 2750 7300
Wire Wire Line
	3650 7300 3650 7100
$Comp
L R R103
U 1 1 564DC0C5
P 3650 6850
F 0 "R103" V 3730 6850 50  0000 C CNN
F 1 "100K" V 3650 6850 50  0000 C CNN
F 2 "" H 3650 6850 60  0000 C CNN
F 3 "" H 3650 6850 60  0000 C CNN
	1    3650 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 6500 3650 6600
Text Label 3150 6500 0    60   ~ 0
SOIL_2
Text Label 5250 6800 2    60   ~ 0
I2C_SDA
Wire Wire Line
	5350 6800 5100 6800
Wire Wire Line
	5350 6950 5100 6950
Text Label 5250 6950 2    60   ~ 0
I2C_SCL
Text Label 6000 4200 0    60   ~ 0
SOIL_2
Text Label 9550 2100 0    60   ~ 0
GPIO0
Text Label 9550 2200 0    60   ~ 0
GPIO2
Wire Wire Line
	9400 2200 9750 2200
Wire Wire Line
	9750 2500 9750 2400
Wire Wire Line
	9750 2400 9400 2400
Text Label 7550 2300 2    60   ~ 0
GPIO13
Text Label 7550 2200 2    60   ~ 0
GPIO12
Wire Wire Line
	7600 2200 7200 2200
Text Label 7550 2000 2    60   ~ 0
GPIO16
Wire Wire Line
	6500 2000 7600 2000
Text Label 7550 1900 2    60   ~ 0
ESP_EN
$Comp
L R R111
U 1 1 564DFFA3
P 10450 6150
F 0 "R111" V 10530 6150 50  0000 C CNN
F 1 "10K" V 10450 6150 50  0000 C CNN
F 2 "" V 10380 6150 30  0000 C CNN
F 3 "" H 10450 6150 30  0000 C CNN
	1    10450 6150
	1    0    0    -1  
$EndComp
Connection ~ 9850 5900
Wire Wire Line
	10450 6400 10800 6400
Text Label 10500 6400 0    59   ~ 0
ESP_EN
Wire Wire Line
	7600 1800 7200 1800
NoConn ~ 7200 1800
Wire Wire Line
	7000 2350 7000 2400
Wire Wire Line
	7000 2400 7600 2400
NoConn ~ 8750 2900
NoConn ~ 8650 2900
NoConn ~ 8550 2900
NoConn ~ 8450 2900
NoConn ~ 8350 2900
NoConn ~ 8250 2900
Wire Wire Line
	2250 7300 3650 7300
Text Notes 3850 7150 0    60   ~ 0
GPIO14_SOIL\nused to pulse\ncurrent through\nsoil moisture\nsensors\n\nWire GPIO14 to\none side of the\nsensor, SOIL1/SOIL2\nto the other.
Text Label 6000 3500 0    60   ~ 0
ADC0
Text Label 1100 5550 0    60   ~ 0
GPIO12
Text Label 1100 5650 0    60   ~ 0
GPIO13
$Comp
L R R105
U 1 1 564EAB03
P 6500 1700
F 0 "R105" V 6580 1700 50  0000 C CNN
F 1 "0R" V 6500 1700 50  0000 C CNN
F 2 "" H 6500 1700 60  0000 C CNN
F 3 "" H 6500 1700 60  0000 C CNN
	1    6500 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	6750 1700 6750 1400
Wire Wire Line
	6750 1400 6500 1400
Wire Wire Line
	6500 1400 6500 1450
Wire Wire Line
	6500 1950 6500 2000
Wire Wire Line
	6750 2000 6750 2000
Text Label 7550 2100 2    60   ~ 0
GPIO14_SOIL
Wire Wire Line
	2250 6250 3650 6250
Wire Wire Line
	3650 6250 3650 6350
Text Label 2250 6250 0    60   ~ 0
GPIO14_SOIL
Wire Wire Line
	2250 6500 2750 6500
Wire Wire Line
	3150 6500 3650 6500
Connection ~ 2750 7300
Wire Wire Line
	2250 7300 2250 7350
$Comp
L GND #PWR019
U 1 1 564FA125
P 2250 7350
F 0 "#PWR019" H 2250 7100 50  0001 C CNN
F 1 "GND" H 2250 7200 50  0000 C CNN
F 2 "" H 2250 7350 60  0000 C CNN
F 3 "" H 2250 7350 60  0000 C CNN
	1    2250 7350
	1    0    0    -1  
$EndComp
Text Label 1050 6450 0    60   ~ 0
SOIL_2
$Comp
L GND #PWR020
U 1 1 564FD430
P 1800 6250
F 0 "#PWR020" H 1800 6000 50  0001 C CNN
F 1 "GND" H 1800 6100 50  0000 C CNN
F 2 "" H 1800 6250 60  0000 C CNN
F 3 "" H 1800 6250 60  0000 C CNN
	1    1800 6250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 6150 1800 6250
Wire Wire Line
	1800 6050 1800 6000
Wire Wire Line
	1050 6050 1800 6050
Text Label 9550 2300 0    60   ~ 0
GPIO15
Wire Wire Line
	1300 850  2750 850 
Text Label 1350 850  0    60   ~ 0
USB_VCC
Text Label 6000 3600 0    60   ~ 0
ADC1
Text Label 6000 3900 0    60   ~ 0
ADC2
Text Label 6000 4000 0    60   ~ 0
ADC3
NoConn ~ 10900 5350
Wire Wire Line
	10750 5500 10750 5400
Wire Wire Line
	10750 4850 10750 5000
Connection ~ 1200 2350
$Comp
L PWR_FLAG #FLG021
U 1 1 5650A161
P 1200 2350
F 0 "#FLG021" H 1200 2445 50  0001 C CNN
F 1 "PWR_FLAG" H 1200 2530 50  0000 C CNN
F 2 "" H 1200 2350 60  0000 C CNN
F 3 "" H 1200 2350 60  0000 C CNN
	1    1200 2350
	1    0    0    -1  
$EndComp
Text Label 3050 4000 2    60   ~ 0
I2C_SDA
Text Label 3050 4100 2    60   ~ 0
I2C_SCL
$Comp
L R R104
U 1 1 5650DD64
P 6350 7100
F 0 "R104" V 6430 7100 50  0000 C CNN
F 1 "10K" V 6350 7100 50  0000 C CNN
F 2 "" H 6350 7100 60  0000 C CNN
F 3 "" H 6350 7100 60  0000 C CNN
	1    6350 7100
	0    1    1    0   
$EndComp
Wire Wire Line
	6100 7100 6000 7100
Wire Wire Line
	6600 7100 6900 7100
Text Label 6650 7100 0    60   ~ 0
GPIO2
$Comp
L STM32F042F U101
U 1 1 564E462F
P 4550 4150
F 0 "U101" H 3450 4750 60  0000 C CNN
F 1 "STM32F042F" H 3650 4850 60  0000 C CNN
F 2 "" H 4300 5050 60  0000 C CNN
F 3 "" H 4300 5050 60  0000 C CNN
	1    4550 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6700 4800 5900 4800
$Comp
L R R107
U 1 1 564E7CE7
P 6700 5150
F 0 "R107" V 6780 5150 50  0000 C CNN
F 1 "47K 1%" V 6700 5150 39  0000 C CNN
F 2 "" H 6700 5150 60  0000 C CNN
F 3 "" H 6700 5150 60  0000 C CNN
	1    6700 5150
	1    0    0    -1  
$EndComp
Connection ~ 6700 4800
Wire Wire Line
	6700 5400 6700 5500
$Comp
L GND #PWR022
U 1 1 564E839D
P 6700 5500
F 0 "#PWR022" H 6700 5250 50  0001 C CNN
F 1 "GND" H 6700 5350 50  0000 C CNN
F 2 "" H 6700 5500 60  0000 C CNN
F 3 "" H 6700 5500 60  0000 C CNN
	1    6700 5500
	1    0    0    -1  
$EndComp
$Comp
L C C104
U 1 1 564E8728
P 6950 5150
F 0 "C104" H 6975 5250 50  0000 L CNN
F 1 "100nF" H 6975 5050 50  0000 L CNN
F 2 "" H 6988 5000 30  0000 C CNN
F 3 "" H 6950 5150 60  0000 C CNN
	1    6950 5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 5000 6950 4850
Wire Wire Line
	6950 4850 6700 4850
Connection ~ 6700 4850
Wire Wire Line
	6950 5300 6950 5450
Wire Wire Line
	6950 5450 6700 5450
Connection ~ 6700 5450
Text Label 6000 4500 0    60   ~ 0
STM_SWDIO
Text Label 6000 4600 0    60   ~ 0
STM_SWCLK
Wire Wire Line
	5900 3500 6350 3500
Wire Wire Line
	5900 3600 6350 3600
Wire Wire Line
	5900 3700 6350 3700
Wire Wire Line
	5900 3800 6350 3800
Wire Wire Line
	5900 3900 6350 3900
Wire Wire Line
	5900 4000 6350 4000
Wire Wire Line
	5900 4100 6350 4100
Wire Wire Line
	5900 4200 6350 4200
Wire Wire Line
	5900 4300 6350 4300
Wire Wire Line
	5900 4400 6350 4400
Wire Wire Line
	5900 4500 6350 4500
Wire Wire Line
	5900 4600 6350 4600
Wire Wire Line
	4550 5100 4550 5300
$Comp
L GND #PWR023
U 1 1 564EA3B7
P 4550 5300
F 0 "#PWR023" H 4550 5050 50  0001 C CNN
F 1 "GND" H 4550 5150 50  0000 C CNN
F 2 "" H 4550 5300 60  0000 C CNN
F 3 "" H 4550 5300 60  0000 C CNN
	1    4550 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 3200 4750 3000
Wire Wire Line
	4750 3000 4450 3000
Wire Wire Line
	4450 2800 4450 3200
Connection ~ 4450 3000
$Comp
L +3.3V #PWR024
U 1 1 564EA803
P 4450 2800
F 0 "#PWR024" H 4450 2650 50  0001 C CNN
F 1 "+3.3V" H 4450 2940 50  0000 C CNN
F 2 "" H 4450 2800 60  0000 C CNN
F 3 "" H 4450 2800 60  0000 C CNN
	1    4450 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 4650 2750 4650
Wire Wire Line
	3150 3800 2750 3800
Wire Wire Line
	3150 4000 2750 4000
Wire Wire Line
	3150 4100 2750 4100
$Comp
L R R101
U 1 1 564EB172
P 2750 5000
F 0 "R101" V 2830 5000 50  0000 C CNN
F 1 "10K DNP" V 2750 5000 39  0000 C CNN
F 2 "" H 2750 5000 60  0000 C CNN
F 3 "" H 2750 5000 60  0000 C CNN
	1    2750 5000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 4650 2750 4750
Wire Wire Line
	2750 5250 2750 5350
$Comp
L GND #PWR025
U 1 1 564EB5A8
P 2750 5350
F 0 "#PWR025" H 2750 5100 50  0001 C CNN
F 1 "GND" H 2750 5200 50  0000 C CNN
F 2 "" H 2750 5350 60  0000 C CNN
F 3 "" H 2750 5350 60  0000 C CNN
	1    2750 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7400 5700 8050 5700
Wire Wire Line
	7400 5700 7400 5550
$Comp
L +3.3V #PWR026
U 1 1 564ED1D2
P 7400 5550
F 0 "#PWR026" H 7400 5400 50  0001 C CNN
F 1 "+3.3V" H 7400 5690 50  0000 C CNN
F 2 "" H 7400 5550 60  0000 C CNN
F 3 "" H 7400 5550 60  0000 C CNN
	1    7400 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 5800 7850 5800
Wire Wire Line
	7400 5900 8050 5900
Wire Wire Line
	7800 6100 8050 6100
Wire Wire Line
	7400 5900 7400 6100
$Comp
L GND #PWR027
U 1 1 564ED428
P 7400 6100
F 0 "#PWR027" H 7400 5850 50  0001 C CNN
F 1 "GND" H 7400 5950 50  0000 C CNN
F 2 "" H 7400 6100 60  0000 C CNN
F 3 "" H 7400 6100 60  0000 C CNN
	1    7400 6100
	1    0    0    -1  
$EndComp
Text Label 8050 5800 2    60   ~ 0
STM_SWCLK
Text Label 8000 6000 2    60   ~ 0
STM_SWDIO
$Comp
L C C103
U 1 1 564ED8DF
P 5350 3050
F 0 "C103" H 5375 3150 50  0000 L CNN
F 1 "10uF 16V" H 5375 2950 50  0000 L CNN
F 2 "" H 5388 2900 30  0000 C CNN
F 3 "" H 5350 3050 60  0000 C CNN
	1    5350 3050
	1    0    0    -1  
$EndComp
$Comp
L C C102
U 1 1 564ED99A
P 5000 3050
F 0 "C102" H 5025 3150 50  0000 L CNN
F 1 "100nF 6.3V" H 4750 2950 50  0000 L CNN
F 2 "" H 5038 2900 30  0000 C CNN
F 3 "" H 5000 3050 60  0000 C CNN
	1    5000 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 2850 5350 2850
Wire Wire Line
	5000 2850 5000 2900
Connection ~ 4450 2850
Wire Wire Line
	5350 2850 5350 2900
Connection ~ 5000 2850
$Comp
L GND #PWR028
U 1 1 564EE0F6
P 5150 3250
F 0 "#PWR028" H 5150 3000 50  0001 C CNN
F 1 "GND" H 5150 3100 50  0001 C CNN
F 2 "" H 5150 3250 60  0000 C CNN
F 3 "" H 5150 3250 60  0000 C CNN
	1    5150 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 3250 5350 3250
Wire Wire Line
	5350 3250 5350 3200
Wire Wire Line
	5000 3250 5000 3200
Connection ~ 5150 3250
Text Notes 7300 5250 0    79   ~ 0
STM32 SWD\nProgramming\nHeader (Optional)
Text Notes 2950 5300 0    60   ~ 0
Pulldown is NP\nas BOOT0 pin\ncan be disabled\nin flash config sector.
$Comp
L CONN_01X05 P105
U 1 1 564F0D67
P 8250 5900
F 0 "P105" H 8250 6200 50  0000 C CNN
F 1 "CONN_01X05" V 8350 5900 50  0000 C CNN
F 2 "" H 8250 5900 60  0000 C CNN
F 3 "" H 8250 5900 60  0000 C CNN
	1    8250 5900
	1    0    0    -1  
$EndComp
Text Label 8050 6100 2    60   ~ 0
STM_~RESET
Wire Wire Line
	8050 6000 7800 6000
$EndSCHEMATC
